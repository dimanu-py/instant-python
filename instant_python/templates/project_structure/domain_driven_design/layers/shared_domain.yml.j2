{#
  Shared Domain Layer Template for Domain-Driven Design

  This template defines the shared domain layer structure and conditionally
  includes domain-related features based on configuration.
#}
{% import "domain_driven_design/layer_macros.j2" as layer with context %}
{%- set domain_features = [
  {"feature": "value_objects", "template": "value_objects.yml.j2"},
  {"feature": "event_bus", "template": "events/event_bus_domain.yml.j2"},
  {"feature": "fastapi_application", "template": "fastapi/fastapi_domain.yml.j2"}
] %}
- name: domain
  type: directory
  python: True
{{ layer.render_children_for(domain_features, 2) }}

